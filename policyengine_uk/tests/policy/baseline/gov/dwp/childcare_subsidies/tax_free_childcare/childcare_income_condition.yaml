# Tests for age under 18 bracket (threshold: £1,331 quarterly)
- name: Under threshold for age 15 with low income and no other income sources - ineligible
  period: 2025
  input:
    age: 15
    total_income: 5000  
    private_pension_income: 0
    savings_interest_income: 500
    dividend_income: 0
    property_income: 0
  output:
    meets_income_requirements: false

- name: At threshold for age 15 - eligible
  period: 2025
  input:
    age: 15
    total_income: 6324  
    private_pension_income: 0
    savings_interest_income: 0
    dividend_income: 0
    property_income: 200
  output:
    meets_income_requirements: true

# Tests for age 18-20 bracket (threshold: £1,788 quarterly)
- name: Under threshold for age 19 - ineligible
  period: 2025
  input:
    age: 19
    total_income: 7000  # £1,750 quarterly
    private_pension_income: 0
    savings_interest_income: 0
    dividend_income: 0
    property_income: 0
  output:
    meets_income_requirements: false

- name: At threshold for age 19 - eligible
  period: 2025
  input:
    age: 18
    total_income: 7152  # £1,788 quarterly
    private_pension_income: 0
    savings_interest_income: 0
    dividend_income: 0
    property_income: 0
  output:
    meets_income_requirements: true

# Tests for age 21+ bracket (threshold: £2,379 quarterly)
- name: Under threshold for age 22 - ineligible
  period: 2025
  input:
    age: 22
    total_income: 9000  # £2,250 quarterly
    private_pension_income: 0
    savings_interest_income: 0
    dividend_income: 0
    property_income: 0
  output:
    meets_income_requirements: false

- name: age 18 - eligible
  period: 2025
  input:
    age: 18
    total_income: 9516  # £2,379 quarterly
    private_pension_income: 0
    savings_interest_income: 0
    dividend_income: 0
    property_income: 0
  output:
    meets_income_requirements: true

# Tests with investment income
- name: Above threshold but with investment income making eligible income below threshold - ineligible
  period: 2025
  input:
    age: 22
    total_income: 12000
    private_pension_income: 3000
    savings_interest_income: 500
    dividend_income: 1000
    property_income: 500
    # Net eligible income: 7000 (£1,750 quarterly)
  output:
    meets_income_requirements: false

- name: Edge case with investment income exactly at threshold - eligible
  period: 2025
  input:
    age: 15
    total_income: 7324
    private_pension_income: 2000
    savings_interest_income: 0
    dividend_income: 0
    property_income: 0
    # Net eligible income: 5324 (£1,331 quarterly)
  output:
    meets_income_requirements: true

# Test age boundary cases
- name: Age boundary test at 18 - using higher threshold
  period: 2025
  input:
    age: 18
    total_income: 7152  
    private_pension_income: 0
    savings_interest_income: 100
    dividend_income: 0
    property_income: 0
  output:
    meets_income_requirements: true
